// 菜单数据结构 - 包含所有Blender 4.4几何节点功能及说明
const menuData = [
    {
        name: "属性",
        children: [
            { 
                name: "属性统计",
                description: "计算并显示几何体上属性的统计信息，如最小值、最大值、平均值和总和等。可用于分析属性分布情况，帮助进行数据驱动的几何处理。"
            },
            { 
                name: "域大小",
                description: "返回当前几何体的域大小信息，即几何体在三维空间中占据的范围。对于确定几何体的边界和比例非常有用，常用于后续的缩放和定位操作。"
            },
            { 
                name: "模糊属性",
                description: "对几何体上的属性值进行模糊处理，平滑属性值的过渡。常用于创建渐变效果或减少属性值的突变，使几何效果更加自然。"
            },
            { 
                name: "捕捉属性",
                description: "将属性值捕捉到指定的间隔或预设值上。可用于将连续的属性值离散化，创建阶梯状效果或精确控制属性值的分布。"
            },
            { 
                name: "删除已命名属性",
                description: "从几何体中删除指定名称的属性。用于清理不再需要的属性数据，减小几何数据量并简化节点树。"
            },
            { 
                name: "存储已命名属性",
                description: "将计算得到的属性值存储为几何体上的命名属性，以便在后续节点中重复使用。可用于保存中间计算结果，提高节点树的效率和可维护性。"
            }
        ]
    },
    {
        name: "输入",
        children: [
            {
                name: "常量",
                children: [
                    { name: "布尔", description: "提供一个布尔值（真/假）作为输入。用于控制条件节点的执行流程，或设置开关类参数。" },
                    { name: "集合", description: "提供一个集合作为输入。可用于指定需要处理的物体集合，方便对多个物体进行批量操作。" },
                    { name: "颜色", description: "提供一个颜色值作为输入。可用于设置材质颜色、顶点颜色或其他与颜色相关的属性。" },
                    { name: "图像", description: "导入一张图像作为输入。可用于将图像数据作为纹理或高度图应用到几何体上。" },
                    { name: "整数", description: "提供一个整数值作为输入。用于设置计数、索引或其他需要整数的参数。" },
                    { name: "材质", description: "提供一个材质作为输入。可用于将指定材质分配给几何体的特定部分。" },
                    { name: "物体", description: "提供一个物体作为输入。用于获取该物体的几何数据或变换信息，实现物体间的关联操作。" },
                    { name: "旋转", description: "提供一个旋转值作为输入。可用于控制几何体的旋转角度和方向。" },
                    { name: "字符串", description: "提供一个文本字符串作为输入。可用于命名属性、生成标签或进行文本相关的操作。" },
                    { name: "值", description: "提供一个浮点数值作为输入。用于设置比例、强度、阈值等需要精确数值的参数。" },
                    { name: "矢量", description: "提供一个三维矢量作为输入。可用于表示位置、方向、缩放等三维空间中的量。" }
                ]
            },
            {
                name: "操控器",
                children: [
                    { name: "转盘操控器", description: "在视图中创建一个可交互的转盘操控器，用于控制角度参数。用户可以通过拖动转盘直观地调整旋转角度。" },
                    { name: "线性操控器", description: "在视图中创建一个可交互的线性操控器，用于控制线性参数。用户可以通过拖动滑块在一维方向上调整数值。" },
                    { name: "变换操控器", description: "在视图中创建一个可交互的变换操控器，用于同时控制位置、旋转和缩放。提供类似物体变换工具的交互方式，方便直观地调整参数。" }
                ]
            },
            {
                name: "群组",
                children: [
                    { name: "组输入", description: "定义群组节点的输入接口。用于将外部数据传递到群组内部，使群组可以接收参数并根据参数调整其行为。" }
                ]
            },
            {
                name: "场景",
                children: [
                    { name: "活动摄像机", description: "获取当前场景中的活动摄像机。可用于基于摄像机视角计算几何体的可见性或其他与视角相关的效果。" },
                    { name: "集合信息", description: "获取指定集合的信息，如集合中的物体数量等。用于对集合进行分析和处理。" },
                    { name: "图像信息", description: "获取指定图像的信息，如尺寸、像素格式等。用于根据图像属性调整后续处理。" },
                    { name: "是否为视图", description: "判断当前是否处于视图模式。可用于在编辑模式和渲染模式下执行不同的节点逻辑。" },
                    { name: "指定图层选择", description: "根据图层选择几何体元素。用于从多层几何体中筛选出需要处理的特定图层元素。" },
                    { name: "物体信息", description: "获取指定物体的信息，如位置、旋转、缩放、类型等。用于基于物体属性控制几何节点的行为。" },
                    { name: "场景时间", description: "获取当前场景的时间信息。可用于创建随时间变化的动画效果，如生长、变形等。" },
                    { name: "自身物体", description: "获取应用了当前几何节点修改器的物体自身。用于对物体自身进行分析和处理，实现自引用效果。" }
                ]
            }
        ]
    },
    {
        name: "输出",
        children: [
            { name: "组输出", description: "定义群组节点的输出接口。用于将群组内部的处理结果传递到外部，使群组可以返回计算结果供其他节点使用。" },
            { name: "预览器", description: "显示几何体或属性的预览效果。用于调试节点树，直观查看中间结果，帮助定位问题和调整参数。" },
            { name: "警告", description: "当满足特定条件时生成警告信息。用于在节点树执行过程中提供错误提示或警告，帮助用户发现潜在问题。" }
        ]
    },
    {
        name: "几何数据",
        children: [
            {
                name: "读取",
                children: [
                    { name: "ID", description: "读取几何体元素的ID属性。每个几何体元素（顶点、边、面等）都有一个唯一的ID，可用于识别和筛选特定元素。" },
                    { name: "编号", description: "读取几何体元素的编号属性。编号是按顺序分配给元素的整数，可用于按顺序处理元素或创建序列效果。" },
                    { name: "已命名属性", description: "读取几何体上指定名称的属性值。用于获取之前存储的属性数据，实现基于属性的几何处理。" },
                    { name: "法向", description: "读取几何体元素的法向量。法向量表示元素的朝向，常用于光照计算、碰撞检测或表面方向相关的效果。" },
                    { name: "位置", description: "读取几何体元素的位置坐标。用于获取元素在三维空间中的位置信息，实现基于位置的几何变换或筛选。" },
                    { name: "半径", description: "读取几何体元素的半径属性。主要用于点和曲线，控制其显示大小或影响范围。" }
                ]
            },
            {
                name: "采样",
                children: [
                    { name: "几何接近", description: "检测几何体元素之间的接近程度。可用于查找附近的元素，实现吸引、排斥或碰撞效果。" },
                    { name: "最近编号", description: "查找离目标位置最近的元素编号。用于基于位置快速定位特定元素。" },
                    { name: "光线投射", description: "从指定起点沿指定方向发射光线，检测与几何体的交点。可用于阴影计算、碰撞检测或表面采样。" },
                    { name: "采样编号", description: "根据编号对几何体元素进行采样。可用于按特定顺序或间隔选取元素。" },
                    { name: "采样最近", description: "采样离指定位置最近的几何体元素的属性。用于基于邻近元素的属性创建平滑过渡效果。" }
                ]
            },
            {
                name: "写入",
                children: [
                    { name: "设置几何体名称", description: "为几何体设置名称属性。便于在后续处理中识别和筛选特定的几何体。" },
                    { name: "设置ID", description: "为几何体元素设置ID属性。可用于自定义元素的识别方式，方便后续的筛选和处理。" },
                    { name: "设置位置", description: "修改几何体元素的位置坐标。用于移动元素，实现平移、分散或其他位置相关的变换。" }
                ]
            },
            {
                name: "操作",
                children: [
                    { name: "烘焙", description: "将动态计算的属性烘焙为静态属性。用于将复杂的计算结果保存下来，提高后续渲染或处理的效率。" },
                    { name: "边界框", description: "计算几何体的边界框。返回几何体在三维空间中占据的最小和最大坐标，可用于定位、缩放或碰撞检测。" },
                    { name: "凸壳", description: "为几何体创建凸壳。凸壳是包含所有几何体点的最小凸多面体，常用于碰撞检测或简化复杂几何体。" },
                    { name: "删除几何体", description: "从输入几何体中删除指定的元素。可根据各种条件筛选并移除不需要的部分，简化几何体。" },
                    { name: "复制元素", description: "复制几何体中的指定元素。用于创建重复的元素，实现阵列或对称效果。" },
                    { name: "按距离合并", description: "将距离小于指定阈值的几何体元素合并。可用于简化几何体或消除不必要的细节。" },
                    { name: "元素排序", description: "根据指定条件对几何体元素进行排序。可按位置、ID、属性值等对元素重新排序，便于后续处理。" },
                    { name: "变换几何体", description: "对几何体应用变换（平移、旋转、缩放）。用于整体调整几何体的位置、方向和大小。" },
                    { name: "分离组件", description: "将几何体分解为独立的组件（如分离连接的部分）。用于将复杂几何体拆分为简单部分，分别进行处理。" },
                    { name: "分离几何体", description: "根据指定条件将几何体分离为多个部分。可基于属性、位置或其他条件将几何体拆分。" },
                    { name: "拆分为实例", description: "将几何体拆分为多个实例。每个实例保留原始几何体的形状但可以有独立的变换，用于高效创建大量相似物体。" }
                ]
            },
            { name: "几何到实例", description: "将几何体转换为实例。用于将多个相似几何体转换为实例，减少内存占用并提高性能。" },
            { name: "合并几何", description: "将多个几何体合并为一个。用于组合不同的几何部分，创建复杂的整体结构。" }
        ]
    },
    {
        name: "曲线",
        children: [
            {
                name: "读取",
                children: [
                    { name: "曲线控制柄位置", description: "读取曲线控制点的控制柄位置。贝塞尔曲线的控制柄决定了曲线的形状，读取这些位置可用于分析和修改曲线形态。" },
                    { name: "曲线长度", description: "计算曲线的总长度。用于基于曲线长度创建均匀分布的效果或控制沿曲线的动画速度。" },
                    { name: "曲线切向", description: "计算曲线上指定点的切线方向。切线方向表示曲线在该点的走向，可用于沿曲线排列物体或生成垂直于曲线的结构。" },
                    { name: "曲线倾斜", description: "读取曲线的倾斜角度。倾斜角度控制曲线在其平面外的旋转，影响基于曲线生成的几何体的朝向。" },
                    { name: "端点选择", description: "选择曲线的起点和终点。用于对曲线的端点进行特殊处理，如添加帽盖或连接其他曲线。" },
                    { name: "控制柄类型选择", description: "选择具有特定类型控制柄的曲线点。贝塞尔曲线有多种控制柄类型（自动、对齐、矢量等），可用于筛选和修改特定的控制点。" },
                    { name: "是否闭合样条线", description: "判断样条线是否闭合。用于区分开放和闭合曲线，对它们应用不同的处理逻辑。" },
                    { name: "样条线长度", description: "计算单个样条线的长度。当曲线包含多个样条线时，可分别获取每个样条线的长度。" },
                    { name: "样条线参数", description: "获取样条线的参数信息，如类型（贝塞尔、多边形等）。用于根据样条线类型进行针对性处理。" },
                    { name: "样条线精度", description: "读取样条线的显示和计算精度。精度决定了曲线的细分程度，影响曲线的平滑度和计算效率。" }
                ]
            },
            {
                name: "采样",
                children: [
                    { name: "采样曲线", description: "在曲线上的指定位置采样点。可按均匀间隔或特定参数值在曲线上生成点，用于沿曲线分布物体或创建路径。" }
                ]
            },
            {
                name: "写入",
                children: [
                    { name: "设置曲线法向", description: "设置曲线的法向量方向。法向量决定了曲线的朝向平面，影响基于曲线生成的几何体的方向。" },
                    { name: "设置曲线半径", description: "设置曲线的半径属性。半径控制曲线的粗细，或影响基于曲线生成的几何体的大小。" },
                    { name: "设置曲线倾斜", description: "设置曲线的倾斜角度。倾斜角度使曲线在其平面外旋转，可用于创建螺旋或扭曲效果。" },
                    { name: "设置控制柄位置", description: "修改曲线控制点的控制柄位置。通过调整控制柄可以精确调整曲线的形状。" },
                    { name: "设置控制柄类型", description: "修改曲线控制点的控制柄类型。不同的控制柄类型（自动、对齐、矢量等）会影响曲线的形状调整方式。" },
                    { name: "设置样条线闭合", description: "设置样条线是否闭合。将开放曲线转换为闭合曲线，或反之，影响曲线的连接方式和外观。" },
                    { name: "设置样条线精度", description: "修改样条线的显示和计算精度。提高精度会使曲线更平滑但增加计算量，降低精度则相反。" },
                    { name: "设置样条线类型", description: "修改样条线的类型（如贝塞尔曲线、多边形线等）。不同类型的样条线有不同的数学特性和外观。" }
                ]
            },
            {
                name: "操作",
                children: [
                    { name: "曲线转换为蜡笔", description: "将曲线转换为蜡笔（Grease Pencil）对象。用于在2D动画或注释中使用曲线数据。" },
                    { name: "曲线转换为网格", description: "将曲线转换为网格物体。通过对曲线进行挤压或放样，生成具有体积的网格几何体。" },
                    { name: "曲线转换为点", description: "将曲线转换为点集合。可提取曲线的控制点或沿曲线均匀分布点。" },
                    { name: "在表面上变形曲线", description: "使曲线贴合到指定表面上。用于创建沿表面分布的路径或装饰线条。" },
                    { name: "填充曲线", description: "对闭合曲线进行填充，创建面。用于将闭合的曲线轮廓转换为实体形状。" },
                    { name: "圆角曲线", description: "对曲线的拐角进行圆角处理。使尖锐的角变得平滑，改善曲线的外观。" },
                    { name: "蜡笔转换为曲线", description: "将蜡笔（Grease Pencil）对象转换为曲线。用于将2D绘制的线条转换为可编辑的3D曲线。" },
                    { name: "插值曲线", description: "在两条曲线之间创建插值曲线。用于生成平滑过渡的中间曲线，实现动画或变形效果。" },
                    { name: "合并层", description: "合并曲线的多个图层。将复杂的多层曲线合并为单层，简化曲线结构。" },
                    { name: "重采样曲线", description: "重新采样曲线，调整曲线上的点数。可用于均匀分布点或增加/减少曲线的细节。" },
                    { name: "反转曲线", description: "反转曲线的方向。改变曲线的起点和终点，影响沿曲线的采样和生成效果。" },
                    { name: "细分曲线", description: "对曲线进行细分，增加曲线的控制点数量。使曲线可以更精细地调整形状。" },
                    { name: "修剪曲线", description: "根据指定边界修剪曲线。移除曲线的一部分，保留需要的部分。" }
                ]
            },
            {
                name: "基本体",
                children: [
                    { name: "圆弧", description: "创建圆弧曲线。可指定半径、角度范围和位置，生成精确的圆弧形状。" },
                    { name: "贝塞尔线段", description: "创建贝塞尔线段。通过控制点和控制柄创建自由形状的曲线段。" },
                    { name: "曲线圆环", description: "创建圆环形状的曲线。由两个同心圆组成，可用于生成轮胎、垫圈等形状。" },
                    { name: "曲线直线", description: "创建直线段。可指定起点和终点，生成精确的直线。" },
                    { name: "螺旋", description: "创建螺旋曲线。可控制螺旋的半径、高度、圈数等参数，生成弹簧、DNA双螺旋等形状。" },
                    { name: "二次型贝塞尔", description: "创建二次贝塞尔曲线。由起点、终点和一个控制点定义，生成平滑的曲线。" },
                    { name: "四边形", description: "创建四边形轮廓曲线。生成矩形或梯形等四边形形状的闭合曲线。" },
                    { name: "星形", description: "创建星形曲线。可控制角的数量、内外半径等参数，生成各种星形形状。" }
                ]
            },
            {
                name: "拓扑",
                children: [
                    { name: "点所属曲线", description: "确定点属于哪条曲线。用于分析点与曲线的关系，筛选出属于特定曲线的点。" },
                    { name: "偏移曲线中的点", description: "沿曲线的法线方向偏移曲线上的点。用于创建平行曲线或扩展曲线轮廓。" },
                    { name: "曲线的点", description: "获取曲线上的所有点。用于分析曲线结构或对曲线上的点进行单独处理。" }
                ]
            }
        ]
    },
    {
        name: "实例",
        children: [
            { name: "实例化于点上", description: "在每个点上实例化物体。将指定物体复制到每个点的位置，常用于创建分布效果，如森林中的树木。" },
            { name: "实例到点", description: "将实例放置到点的位置。与实例化于点上类似，但更侧重于控制现有实例的位置。" },
            { name: "实现实例", description: "将实例转换为实际的几何体。将实例化的物体转换为独立的几何体，便于进一步编辑和修改。" },
            { name: "旋转实例", description: "旋转实例物体。可基于点的法向、曲线的切线或其他参数控制实例的旋转方向。" },
            { name: "缩放实例", description: "缩放实例物体。可根据属性值或随机参数调整每个实例的大小，创建变化丰富的效果。" },
            { name: "平移实例", description: "平移实例物体。在保持实例与原始点关联的同时，微调实例的位置。" },
            { name: "设置实例变换", description: "同时设置实例的位置、旋转和缩放。综合控制实例的变换属性，实现复杂的实例排列效果。" },
            { name: "实例的变换", description: "读取实例的变换信息（位置、旋转、缩放）。用于分析实例的当前状态或基于变换信息创建新的效果。" },
            { name: "实例的旋转", description: "读取实例的旋转信息。获取每个实例的旋转角度和方向，用于进一步处理或显示。" },
            { name: "实例的缩放", description: "读取实例的缩放信息。获取每个实例的缩放比例，用于分析或基于缩放创建效果。" }
        ]
    },
    {
        name: "网格",
        children: [
            {
                name: "读取",
                children: [
                    { name: "边的夹角", description: "计算两条相邻边之间的夹角。用于检测锐角、直角或钝角，可用于选择特定角度的边。" },
                    { name: "边的邻面", description: "获取与边相邻的面。用于分析边与面的拓扑关系，实现基于邻面的选择或处理。" },
                    { name: "边的顶点", description: "获取构成边的两个顶点。用于分析边的结构或基于顶点属性处理边。" },
                    { name: "边到面组", description: "将边转换为面组。通过边创建新的面组，用于分离或突出显示特定区域。" },
                    { name: "面的面积", description: "计算面的面积。用于分析几何体的表面积分布，或基于面积筛选面。" },
                    { name: "面组边界", description: "获取面组的边界边。用于提取面组的轮廓，创建边界线或进行边界处理。" },
                    { name: "面的邻项", description: "获取与面相邻的其他面。用于分析面之间的连接关系，实现区域扩展或传播效果。" },
                    { name: "面是否平坦", description: "判断面是否平坦（共面）。用于检测几何体中的平面区域，进行针对性处理。" },
                    { name: "面是否平滑着色", description: "判断面是否使用平滑着色。用于区分平滑和非平滑区域，控制渲染效果。" },
                    { name: "边是否平滑着色", description: "判断边是否使用平滑着色。用于控制边的显示方式，区分硬边和软边。" },
                    { name: "网格孤岛", description: "识别网格中的孤岛（不相连的部分）。用于分别处理网格中的独立部分。" },
                    { name: "最短边路径", description: "计算两个顶点之间的最短边路径。用于生成连接两点的路径，或分析网格的连通性。" },
                    { name: "顶点的邻项", description: "获取与顶点相邻的其他顶点。用于分析顶点的连接关系，实现扩散或平滑效果。" }
                ]
            },
            {
                name: "采样",
                children: [
                    { name: "采样最近的表面", description: "在指定位置采样最近的网格表面点。用于将点吸附到表面或基于表面属性创建效果。" },
                    { name: "采样UV表面", description: "在UV坐标系中采样表面属性。用于将2D纹理坐标映射到3D表面，实现纹理相关效果。" }
                ]
            },
            {
                name: "写入",
                children: [
                    { name: "设置着色平滑", description: "设置面或边的平滑着色属性。控制网格的视觉平滑度，创建硬边或软边效果。" }
                ]
            },
            {
                name: "操作",
                children: [
                    { name: "对偶网格", description: "创建网格的对偶网格。对偶网格的每个顶点对应原始网格的一个面，常用于拓扑转换或特殊效果。" },
                    { name: "边路径到曲线", description: "将边路径转换为曲线。将网格上的边序列转换为可编辑的曲线，用于提取路径或轮廓。" },
                    { name: "边路径到选中项", description: "将边路径转换为选中状态。标记边路径上的边为选中，便于后续针对性处理。" },
                    { name: "挤出网格", description: "挤出网格的面或边。沿指定方向拉伸网格元素，增加几何体的厚度或创建突出结构。" },
                    { name: "翻转面", description: "翻转面的法线方向。改变面的正面和背面，用于修复法线方向错误的网格。" },
                    { name: "网格布尔", description: "对两个网格执行布尔运算（并集、交集、差集）。用于组合或切割几何体，创建复杂形状。" },
                    { name: "网格转换为曲线", description: "将网格转换为曲线。提取网格的边或轮廓线作为曲线，用于创建线框效果或进一步编辑。" },
                    { name: "网格转换为点", description: "将网格转换为点集合。提取网格的顶点或面中心作为点，用于分布实例或其他点相关操作。" },
                    { name: "网格转体积", description: "将网格转换为体积数据。创建表示网格内部和外部的体积场，用于体积相关的效果和模拟。" },
                    { name: "缩放元素", description: "缩放网格的元素（顶点、边、面）。基于中心点或指定点缩放元素，创建膨胀或收缩效果。" },
                    { name: "拆分边", description: "将边拆分为多个段。增加网格的细分程度，使曲面更加平滑或为后续编辑提供更多控制点。" },
                    { name: "细分网格", description: "对整个网格进行细分。增加网格的多边形数量，提高几何体的细节表现能力。" },
                    { name: "表面细分", description: "使用表面细分算法（如Catmull-Clark）细分网格。创建平滑的曲面效果，同时保持原始轮廓。" },
                    { name: "三角化", description: "将多边形面转换为三角形面。三角形是最基本的多边形类型，许多渲染和模拟系统更高效地处理三角形网格。" }
                ]
            },
            {
                name: "基本体",
                children: [
                    { name: "锥形", description: "创建锥形网格。可控制底面半径、高度、细分等参数，生成各种锥形形状。" },
                    { name: "立方体", description: "创建立方体网格。可控制尺寸、细分等参数，生成正方体或长方体。" },
                    { name: "柱体", description: "创建柱体网格。可控制半径、高度、侧面细分等参数，生成圆柱或棱柱。" },
                    { name: "栅格", description: "创建平面栅格网格。可控制尺寸、行列数等参数，生成网格平面，常用于地面或基础平面。" },
                    { name: "棱角球", description: "创建棱角球（多面体球）网格。由多个平面组成的近似球体，可控制细分级别来平衡细节和性能。" },
                    { name: "网格圆环", description: "创建圆环（ torus ）网格。可控制主半径、次半径、细分等参数，生成甜甜圈状的几何体。" },
                    { name: "网格直线", description: "创建由网格组成的直线。与曲线直线不同，这是具有体积的网格线段。" },
                    { name: "经纬球", description: "创建经纬球网格。通过经线和纬线定义的球体，类似于地球仪的结构，可控制分段数。" }
                ]
            },
            {
                name: "拓扑",
                children: [
                    { name: "边的拐角", description: "获取与边相关的拐角（顶点）。用于分析边的连接点，实现基于拐角的选择或处理。" },
                    { name: "面的拐角", description: "获取面的所有拐角（顶点）。用于分析面的形状或提取面的轮廓点。" },
                    { name: "顶点的拐角", description: "获取与顶点相关的拐角。在网格拓扑中，拐角表示顶点与边的连接，用于分析顶点的连接方式。" },
                    { name: "拐角的边", description: "获取与拐角相关的边。用于分析拐角的连接关系，实现基于边的拐角处理。" },
                    { name: "顶点的边", description: "获取与顶点相连的所有边。用于分析顶点的连接性或选择围绕顶点的边。" },
                    { name: "拐角所属面", description: "获取拐角所属的面。用于确定拐角在哪个面上，实现基于面的拐角处理。" },
                    { name: "面内拐角偏移", description: "在面内偏移拐角的位置。用于在保持面拓扑结构的同时，调整拐角位置，创建变形效果。" },
                    { name: "拐角的顶点", description: "获取拐角对应的顶点。用于将拐角信息与顶点属性关联，实现基于顶点的拐角处理。" }
                ]
            },
            {
                name: "UV",
                children: [
                    { name: "拼排UV孤岛", description: "自动排列UV孤岛，优化UV空间利用。将模型的各个UV孤岛紧凑排列，减少纹理空间浪费。" },
                    { name: "UV展开", description: "将网格表面展开为UV坐标。将3D表面转换为2D平面坐标，用于纹理映射和材质编辑。" }
                ]
            }
        ]
    },
    {
        name: "点",
        children: [
            { name: "分布点于体积内", description: "在指定体积内随机或均匀分布点。用于在三维空间中创建点云，可作为实例化的基础。" },
            { name: "分布点于面上", description: "在网格表面上分布点。可均匀分布或基于面积、密度等参数分布，用于在表面上放置细节或实例。" },
            { name: "点", description: "创建单个或多个点。用于定义位置、作为实例化的起点或创建点云基础。" },
            { name: "点转换为曲线", description: "将点连接为曲线。按顺序连接多个点创建折线或平滑曲线，用于创建路径或轮廓。" },
            { name: "点转换为顶点", description: "将点转换为网格的顶点。将点云转换为可编辑的网格顶点，用于创建基于点的几何体。" },
            { name: "点转换为体积", description: "将点转换为体积数据。围绕每个点创建体积场，用于体积渲染或模拟效果。" },
            { name: "设置点半径", description: "设置点的显示半径。控制视图中点的大小，或影响基于点生成的几何体的尺寸。" }
        ]
    },
    {
        name: "体积",
        children: [
            {
                name: "操作",
                children: [
                    { name: "体积转网格", description: "将体积数据转换为网格几何体。通过提取体积的等值面（如Marching Cubes算法）创建网格，用于将体积数据可视化。" }
                ]
            },
            {
                name: "基本体",
                children: [
                    { name: "体积立方体", description: "创建立方体形状的体积数据。定义一个立方体区域的体积场，用于体积效果或作为其他体积操作的基础。" }
                ]
            }
        ]
    },
    {
        name: "模拟",
        children: [
            { name: "模拟", description: "执行模拟计算并将结果应用于几何体。可实现物理模拟效果，如布料、流体或粒子模拟，使几何体随时间动态变化。" }
        ]
    },
    {
        name: "材质",
        children: [
            { name: "替换材质", description: "替换几何体上的材质。将指定的材质替换为新的材质，用于批量更新物体的外观。" },
            { name: "材质编号", description: "读取或设置几何体元素的材质编号。材质编号用于关联不同的材质，实现同一物体上多种材质的应用。" },
            { name: "材质选择", description: "根据材质选择几何体元素。筛选出使用特定材质的元素，进行针对性处理。" },
            { name: "设置材质", description: "为几何体元素设置材质。将指定材质应用于选中的元素，控制物体的视觉表现。" },
            { name: "设置材质编号", description: "设置几何体元素的材质编号。通过编号关联材质，实现复杂的材质分配方案。" }
        ]
    },
    {
        name: "纹理",
        children: [
            { name: "砖墙纹理", description: "生成砖墙图案的纹理。可控制砖块大小、砂浆厚度、颜色等参数，用于创建逼真的砖墙效果。" },
            { name: "棋盘格纹理", description: "生成棋盘格图案的纹理。由交替的两种颜色组成，可控制大小和比例，用于创建检查板或网格效果。" },
            { name: "Gabor 纹理", description: "生成Gabor函数纹理。一种具有特定频率和方向的纹理，常用于计算机视觉或创建特定的视觉效果。" },
            { name: "渐变纹理", description: "生成渐变效果的纹理。可创建线性、径向或其他类型的颜色过渡，用于平滑的颜色变化效果。" },
            { name: "图像纹理", description: "导入外部图像作为纹理。将图像映射到几何体上，实现照片级的表面细节。" },
            { name: "迷幻纹理", description: "生成复杂的迷幻风格纹理。具有分形特性的抽象图案，用于创建艺术效果或特殊视觉表现。" },
            { name: "噪波纹理", description: "生成噪波图案的纹理。创建随机的灰度或颜色变化，用于模拟自然表面的不规则性，如岩石、水面等。" },
            { name: "沃罗诺伊纹理", description: "生成沃罗诺伊图（Voronoi diagram）纹理。由多个相邻的多边形组成，类似于细胞结构，用于创建有机或结构化的图案。" },
            { name: "波浪纹理", description: "生成波浪图案的纹理。模拟波纹效果，可控制波长、振幅等参数，用于水面、布料等效果。" },
            { name: "白噪波纹理", description: "生成白噪波纹理。完全随机的噪波图案，用于需要无规律变化的效果，如灰尘、颗粒等。" }
        ]
    },
    {
        name: "实用工具",
        children: [
            {
                name: "颜色",
                children: [
                    { name: "黑体", description: "基于黑体辐射定律生成颜色。模拟不同温度下黑体发出的光的颜色，用于火焰、光源等效果。" },
                    { name: "颜色渐变", description: "创建颜色渐变。定义多个颜色控制点，生成平滑过渡的颜色范围，用于着色或纹理效果。" },
                    { name: "RGB 曲线", description: "通过曲线调整RGB颜色通道。精确控制颜色的色调、亮度和饱和度，实现复杂的颜色调整。" },
                    { name: "合并颜色", description: "将单独的通道值合并为颜色。将R、G、B、A通道的值组合成完整的颜色数据。" },
                    { name: "混合颜色", description: "混合两种颜色。可使用不同的混合模式（如叠加、相乘等）组合颜色，创建丰富的色彩效果。" },
                    { name: "分离颜色", description: "将颜色分离为各个通道。提取颜色的R、G、B、A分量，用于单独处理每个通道。" }
                ]
            },
            {
                name: "文本",
                children: [
                    { name: "合并字符串", description: "将多个字符串合并为一个。拼接文本片段，用于创建复杂的文本信息或命名。" },
                    { name: "替换字符串", description: "替换字符串中的特定内容。查找并替换文本中的子串，用于修改文本内容或格式化输出。" },
                    { name: "字符串切片", description: "提取字符串的一部分。截取文本中的特定片段，用于提取有用信息或格式化文本。" },
                    { name: "字符串长度", description: "计算字符串的长度。获取文本中字符的数量，用于控制文本显示或验证输入。" },
                    { name: "在字符串中查找", description: "在字符串中查找特定子串。检测文本中是否包含指定内容，并返回其位置，用于文本搜索。" },
                    { name: "字符串转换为曲线", description: "将文本字符串转换为曲线。将文字转换为可编辑的曲线轮廓，用于创建3D文字效果。" },
                    { name: "数值转换为字符串", description: "将数值转换为字符串。将数字转换为文本格式，用于显示或与其他文本组合。" },
                    { name: "特殊字符", description: "提供特殊字符作为字符串输入。如换行符、制表符等，用于格式化文本输出。" }
                ]
            },
            {
                name: "矢量",
                children: [
                    { name: "矢量曲线", description: "通过曲线控制矢量的分量。使用曲线调整矢量的X、Y、Z分量，创建随参数变化的矢量场。" },
                    { name: "矢量运算", description: "对矢量执行数学运算。如加、减、点积、叉积等，用于矢量的变换和计算。" },
                    { name: "矢量旋转", description: "旋转矢量。围绕指定轴旋转矢量，改变其方向，用于方向控制或动画效果。" },
                    { name: "合并 XYZ", description: "将X、Y、Z分量合并为矢量。将三个单独的数值组合成三维矢量。" },
                    { name: "混合矢量", description: "混合两个矢量。按比例组合两个矢量，创建平滑过渡的中间矢量。" },
                    { name: "分离 XYZ", description: "将矢量分离为X、Y、Z分量。提取矢量的各个轴向分量，用于单独处理。" }
                ]
            },
            {
                name: "场",
                children: [
                    { name: "累积场", description: "累积场的值。将场在指定范围内的数值累加，用于计算总量或平均值。" },
                    { name: "在编号处评估", description: "在指定编号处评估场的值。获取场在特定元素编号处的数值，用于基于编号的场分析。" },
                    { name: "在域上评估", description: "在整个域上评估场的值。计算场在几何体整个范围内的分布，用于可视化或进一步处理。" }
                ]
            },
            {
                name: "运算",
                children: [
                    { name: "布尔运算", description: "执行布尔逻辑运算。如与、或、非等，用于处理条件判断和逻辑控制。" },
                    { name: "整数运算", description: "执行整数数学运算。如加、减、乘、除等，处理整数类型的数值计算。" },
                    { name: "钳制", description: "将数值限制在指定范围内。确保数值不超过最小值和最大值，用于控制参数范围。" },
                    { name: "比较", description: "比较两个数值。判断大小关系（大于、小于、等于等），用于条件判断和筛选。" },
                    { name: "浮点曲线", description: "通过曲线控制浮点数值。使用曲线定义输入值与输出值的关系，实现非线性的数值变换。" },
                    { name: "浮点数转整数", description: "将浮点数转换为整数。通过四舍五入或截断将小数转换为整数，用于需要整数参数的场合。" },
                    { name: "哈希值", description: "计算输入数据的哈希值。将任意数据转换为固定范围的数值，用于创建伪随机但一致的结果。" },
                    { name: "映射范围", description: "将数值从一个范围映射到另一个范围。线性转换数值的取值范围，用于参数适配和范围调整。" },
                    { name: "运算", description: "执行基本的数学运算。如加、减、乘、除、幂等，处理浮点数值计算。" },
                    { name: "混合", description: "混合两个数值。按比例组合两个值，创建平滑过渡的中间结果。" }
                ]
            },
            {
                name: "矩阵",
                children: [
                    { name: "合并矩阵", description: "将多个矩阵合并为一个复合矩阵。组合多个变换矩阵，实现复杂的变换效果。" },
                    { name: "合并变换", description: "将位置、旋转和缩放合并为变换矩阵。将单独的变换分量组合成完整的变换矩阵。" },
                    { name: "行列式", description: "计算矩阵的行列式。行列式是矩阵的一个标量值，用于判断矩阵是否可逆等数学性质。" },
                    { name: "逆矩阵", description: "计算矩阵的逆矩阵。逆矩阵可用于撤销原矩阵的变换效果。" },
                    { name: "矩阵相乘", description: "将两个矩阵相乘。矩阵乘法是组合变换的基础，用于依次应用多个变换。" },
                    { name: "投影点", description: "将点投影到平面上。计算点在指定平面上的投影位置，用于定位和对齐。" },
                    { name: "分离矩阵", description: "将矩阵分离为多个分量矩阵。分解复合矩阵为原始的各个变换矩阵。" },
                    { name: "分离变换", description: "将变换矩阵分离为位置、旋转和缩放分量。提取矩阵中包含的平移、旋转和缩放信息。" },
                    { name: "变换方向", description: "使用矩阵变换方向矢量。应用旋转和缩放（但不包括平移）到方向矢量。" },
                    { name: "变换点", description: "使用矩阵变换点。将完整的变换（包括平移、旋转和缩放）应用到点的位置。" },
                    { name: "转置矩阵", description: "计算矩阵的转置。交换矩阵的行和列，用于某些数学运算和变换。" }
                ]
            },
            {
                name: "旋转",
                children: [
                    { name: "对齐旋转至矢量", description: "将旋转对齐到指定矢量方向。使物体的某个轴指向目标矢量方向，用于定向和对齐。" },
                    { name: "轴向转换为旋转", description: "将轴向转换为旋转。根据指定的轴向创建对应的旋转矩阵，用于定向控制。" },
                    { name: "轴角度转换为旋转", description: "将轴角表示转换为旋转。根据旋转轴和旋转角度创建旋转矩阵。" },
                    { name: "欧拉转换为旋转", description: "将欧拉角转换为旋转矩阵。将X、Y、Z轴的旋转角度转换为统一的旋转表示。" },
                    { name: "反向旋转", description: "反转旋转方向。创建与原旋转相反的旋转效果，用于撤销旋转或创建对称效果。" },
                    { name: "累加旋转", description: "累加多个旋转。将多个旋转组合起来，依次应用每个旋转效果。" },
                    { name: "旋转矢量", description: "使用旋转矩阵旋转矢量。将旋转应用到方向矢量，改变其指向。" },
                    { name: "旋转转换为轴角度", description: "将旋转矩阵转换为轴角表示。提取旋转的轴和角度信息，用于直观控制。" },
                    { name: "旋转转换为欧拉", description: "将旋转矩阵转换为欧拉角。将统一的旋转表示分解为X、Y、Z轴的旋转角度。" },
                    { name: "旋转转换为四元数", description: "将旋转矩阵转换为四元数。使用四元数表示旋转，避免万向锁问题。" },
                    { name: "四元数转换为旋转", description: "将四元数转换为旋转矩阵。将四元数表示的旋转转换为可应用的旋转矩阵。" }
                ]
            },
            {
                name: "已弃用",
                children: [
                    { name: "对齐欧拉至矢量", description: "已弃用：将欧拉旋转对齐到矢量方向。此节点已被更高效的对齐旋转至矢量节点替代，可能在未来版本中移除。" },
                    { name: "旋转欧拉", description: "已弃用：旋转欧拉角。此节点已被更通用的旋转操作节点替代，可能在未来版本中移除。" }
                ]
            },
            { name: "For Each 遍历元素", description: "遍历几何体的每个元素并应用操作。对几何体中的每个元素（如顶点、面）执行相同的处理，实现批量操作。" },
            { name: "编号切换", description: "根据编号切换不同的输出。基于元素编号选择不同的处理路径或值，实现按编号的差异化处理。" },
            { name: "菜单切换", description: "根据菜单选择切换不同的输出。提供下拉菜单选择不同的选项，用于手动控制节点行为。" },
            { name: "随机值", description: "生成随机数值。创建随机分布的数值，用于添加变化和随机性，如随机大小、颜色或位置。" },
            { name: "重复", description: "重复执行操作指定次数。将输入数据复制多次，用于创建阵列或序列效果。" },
            { name: "切换", description: "根据条件切换两个输出。基于布尔条件选择输出A或输出B，用于实现分支逻辑。" }
        ]
    },
    {
        name: "群组",
        children: []
    },
    {
        name: "布局",
        children: [
            { name: "框", description: "创建框状布局结构。用于组织和排列其他节点，优化节点树的视觉布局。" },
            { name: "转接点", description: "创建节点连接的转接点。用于整理复杂的节点连线，使节点树更加清晰易读。" }
        ]
    }
];

// 动态生成菜单的函数（修正版）
function createMenuLevel(items, level = 0) {
    const levelElement = document.createElement('div');
    levelElement.className = 'menu-level';
    levelElement.dataset.level = level;

    items.forEach(item => {
        const itemElement = document.createElement('div');
        itemElement.className = `menu-item ${item.children ? 'has-children' : ''}`;
        itemElement.textContent = item.name;
        itemElement.dataset.name = item.name;
        if (item.description) {
            itemElement.dataset.description = item.description;
        }

        // 点击菜单项显示详情
        itemElement.addEventListener('click', (e) => {
            e.stopPropagation(); // 阻止事件冒泡
            
            document.getElementById('selected-item').textContent = item.name;
            document.getElementById('item-description').textContent = item.description || '该功能暂无详细说明';
            
            // 移除所有活动状态
            document.querySelectorAll('.menu-item-active').forEach(el => {
                el.classList.remove('menu-item-active');
            });
            // 添加当前活动状态
            itemElement.classList.add('menu-item-active');

            // 如果有子项，点击时显示下一级菜单
            if (item.children) {
                const currentLevel = parseInt(levelElement.dataset.level);
                const nextLevel = currentLevel + 1;

                // 移除所有更高级别的菜单
                document.querySelectorAll(`.menu-level[data-level="${nextLevel}"]`).forEach(el => {
                    el.remove();
                });
                
                // 创建并添加下一级菜单
                const nextLevelElement = createMenuLevel(item.children, nextLevel);
                levelElement.parentNode.appendChild(nextLevelElement);
            }
        });

        levelElement.appendChild(itemElement);
    });

    return levelElement;
}

// 初始化菜单
document.addEventListener('DOMContentLoaded', () => {
    const menuWrapper = document.getElementById('menu');
    // 确保一级菜单正常创建
    const firstLevel = createMenuLevel(menuData, 0);
    menuWrapper.appendChild(firstLevel);

    // 添加点击文档空白处关闭子菜单的事件
    document.addEventListener('click', (e) => {
        const menuElement = document.getElementById('menu');
        // 点击菜单外部时关闭子菜单，保留一级菜单
        if (!menuElement.contains(e.target)) {
            const levelElements = document.querySelectorAll('.menu-level');
            levelElements.forEach((el, index) => {
                if (index > 0) { // 只保留第一级菜单（index=0）
                    el.remove();
                }
            });
        }
    });
});